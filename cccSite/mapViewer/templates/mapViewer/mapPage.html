{% extends "base/base.html" %}
{% load static %}

{% block head %}
<title>Chesapeake Community Connect - Map</title>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBic0-t_tjjX9CnTFIZY2PdJPOF5hFhuQY&libraries=places"></script>
{% endblock head %}

{% block content %}
<div id="content" class="body">
    <h1>Chesapeake Community Connect</h1>
    <!-- Search Post Form -->
    <div style="width:50%; display: block; margin-bottom: 20px;">
        <form id="search-form">
            <input type="text" placeholder="Type to search..." id="search-text">
            <button type="submit" name="searchBtn" id="search-button">Search Post</button>
        </form>
    </div>

    <!-- Map Section -->
    <div style="text-align: center;">
        <div id="map" style="height: 400px; width: 70%; margin: 0 auto;"></div>
    </div>

    <!-- Add Marker Form -->
    <div style="text-align: center; margin-top: 20px;">
        <button id="add-marker-button">Create a Post</button>
        <div id="add-marker-form" style="display: none;">
            <form id="marker-form">
                <label for="title">Title:</label>
                <input type="text" id="title" name="title" required><br>

                <label for="description">Description:</label>
                <textarea id="description" name="description" rows="3" required></textarea><br>

                <label for="address">Address:</label>
                <input type="text" id="address" name="address" required><br>

                <label for="city">City:</label>
                <input type="text" id="city" name="city" required><br>

                <label for="state">State:</label>
                <input type="text" id="state" name="state" required><br>

                <label for="zip">Zip:</label>
                <input type="text" id="zip" name="zip" required><br>

                <button type="submit" id="post-button">Post</button>
            </form>
        </div>
    </div>
</div>

<script type="text/javascript">
    var widgets = JSON.parse('{{ widgets|escapejs }}');
</script>
<script src="{% static 'mapViewer/map-script.js' %}"></script>

{% endblock content %}
