<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Chesapeake Community Connect - Contact Us</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <ul> 
                <li><a class="nav-link" href="map.html">Map</a></li>
                <li><a class="nav-link" href="about.html">About</a></li>
                <li><a class="nav-link" href="contact.html">Contact</a></li>
                <li><a class="nav-link" href="signin.html">Sign In</a></li>
            </ul>
        </nav>
        
    </header>

    <div id="content">
        <h1>Contact Us</h1>
        <div id="show-contact-form-button" onclick="showContactForm()">Contact Us</div>
        <form id="contact-form" style="display: none;">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>
            <br>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
            <br>
            <label for="message">Message:</label>
            <textarea id="message" name="message" rows="5" required></textarea>
            <br>
            <button type="button" id="submit-contact-button" onclick="submitContactForm()">Submit</button>
        </form>
        <p id="form-submitted" style="display: none;">Form submitted successfully!</p>
    </div>
    </form>
    <p id="form-submitted" style="display: none;">Form submitted successfully!</p>
    </div>
        <p id="form-submitted" style="display: none;">Form submitted successfully!</p>
    </div>
    
    <script>
        function showContactForm() {
            const contactForm = document.getElementById("contact-form");
            contactForm.style.display = "block";
        }
    
        function submitContactForm() {
            const contactForm = document.getElementById("contact-form");
            const formSubmitted = document.getElementById("form-submitted");
    
            // Get the form data
            const name = document.getElementById("name").value;
            const email = document.getElementById("email").value;
            const message = document.getElementById("message").value;
    
            // Create an object to represent the contact data
            const contactData = {
                name: name,
                email: email,
                message: message,
            };
    
            // Save the contact data to a JSON file (locally for now)
            // replace this with server-side logic to save to a JSON file
            // For local testing, you can use localStorage
            const contactList = JSON.parse(localStorage.getItem("contacts")) || [];
            contactList.push(contactData);
            localStorage.setItem("contacts", JSON.stringify(contactList));
    
            contactForm.style.display = "none";
            formSubmitted.style.display = "block";
    
            // Reset the form for the next user
            resetContactForm();
        }
    
        function resetContactForm() {
            document.getElementById("contact-form").reset();
        }
    </script>
    </div>

    <footer>
        <div class="footer-content">
            <img src=/Users/alexs/Documents/GitHub/localCapstone/assets/smcm-logo.png alt="SMCM Logo" id="smcm-logo">
            &copy; 2023 SMCM Capstone Website
            
        </div>
    </footer>

    <script src="contactScript.js"></script>
</body>
</html>
